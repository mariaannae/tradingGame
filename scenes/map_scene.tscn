[gd_scene load_steps=11 format=3 uid="uid://bp408kebckug"]

[ext_resource type="Texture2D" uid="uid://o4fb4xays43t" path="res://icon.svg" id="1_0wcw4"]
[ext_resource type="Script" uid="uid://bgcrj76vkkg6s" path="res://scripts/turns_and_seasons.gd" id="1_5m4q6"]
[ext_resource type="PackedScene" uid="uid://dutxtsat7w2un" path="res://scenes/city.tscn" id="2_ne7uw"]
[ext_resource type="Texture2D" uid="uid://cpqxdma1h3qcy" path="res://art/map.png" id="2_vsh3c"]
[ext_resource type="Script" uid="uid://dnpfvojfm741g" path="res://scripts/background_scaling.gd" id="3_jlqwp"]
[ext_resource type="Texture2D" uid="uid://dw2ksgj3y8ngd" path="res://art/parchment.png" id="4_parchment"]
[ext_resource type="StyleBox" uid="uid://p7nbonq4n65t" path="res://themes/button_style.tres" id="5_jlqwp"]
[ext_resource type="Script" uid="uid://cn1u4qb4srfwg" path="res://scripts/parchment_background.gd" id="5_parchment"]
[ext_resource type="Script" uid="uid://uyrt6sms65sr" path="res://scripts/EconomyManager.gd" id="9_raa3b"]
[ext_resource type="PackedScene" uid="uid://d4bslqs40km5x" path="res://scenes/StockUI.tscn" id="10_u73mt"]

[node name="MapScene" type="Node2D"]
script = ExtResource("1_5m4q6")

[node name="Background" type="Sprite2D" parent="."]
scale = Vector2(0.30139536, 0.30139536)
texture = ExtResource("2_vsh3c")
script = ExtResource("3_jlqwp")

[node name="Cities" type="Node2D" parent="."]

[node name="Draugaholt" parent="Cities" instance=ExtResource("2_ne7uw")]
position = Vector2(-278, -256)
city_name = "Draugaholt"
icon_texture = ExtResource("1_0wcw4")

[node name="Yalanga" parent="Cities" instance=ExtResource("2_ne7uw")]
position = Vector2(275, 123)
city_name = "Yalanga"
biome = "warm"

[node name="Corvienne" parent="Cities" instance=ExtResource("2_ne7uw")]
position = Vector2(-236, -13)
city_name = "Corvienne"
biome = "coastal"

[node name="Tenzura" parent="Cities" instance=ExtResource("2_ne7uw")]
position = Vector2(385, -26)
city_name = "Tenzura"
biome = "steppe"

[node name="Meiyara" parent="Cities" instance=ExtResource("2_ne7uw")]
position = Vector2(-320, 158)
city_name = "Meiyara"
biome = "warm"

[node name="Camera2D" type="Camera2D" parent="."]

[node name="UI" type="CanvasLayer" parent="."]
layer = 10

[node name="Control" type="Control" parent="UI"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -2.0
offset_top = -1.0
offset_right = -2.0
offset_bottom = -1.0
grow_horizontal = 2
grow_vertical = 2

[node name="ParchmentBackground" type="TextureRect" parent="UI/Control"]
modulate = Color(0.729, 0.631, 0.467, 1)
layout_mode = 0
offset_left = -18.0
offset_right = 137.0
offset_bottom = 100.0
texture = ExtResource("4_parchment")
expand_mode = 1
stretch_mode = 5
script = ExtResource("5_parchment")
padding = 30.0

[node name="UIStack" type="VBoxContainer" parent="UI/Control"]
layout_mode = 1
anchors_preset = -1
offset_left = 16.0
offset_top = 16.0
offset_right = 40.0
offset_bottom = 40.0

[node name="EndTurnButton" type="Button" parent="UI/Control/UIStack"]
layout_mode = 2
theme_override_colors/font_color = Color(0, 0, 0, 1)
theme_override_colors/font_focus_color = Color(0, 0, 0, 1)
theme_override_colors/font_pressed_color = Color(0, 0, 0, 1)
theme_override_colors/font_hover_color = Color(0, 0, 0, 1)
theme_override_colors/font_hover_pressed_color = Color(0, 0, 0, 1)
theme_override_styles/normal = ExtResource("5_jlqwp")
text = "End Turn"
autowrap_trim_flags = 192
icon_alignment = 1

[node name="TurnLabel" type="Label" parent="UI/Control/UIStack"]
layout_mode = 2
theme_override_colors/font_color = Color(0, 0, 0, 1)
text = "Turn: 0/3"
horizontal_alignment = 1
vertical_alignment = 1

[node name="StockControl" type="Control" parent="UI"]
layout_mode = 3
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
grow_horizontal = 0

[node name="ParchmentBackground" type="TextureRect" parent="UI/StockControl"]
modulate = Color(0.729, 0.631, 0.467, 1)
layout_mode = 0
offset_left = -455.0
offset_top = -22.0
offset_right = 34.0
offset_bottom = 237.0
texture = ExtResource("4_parchment")
expand_mode = 1
script = ExtResource("5_parchment")
padding = 30.0

[node name="StockUIGrid" type="GridContainer" parent="UI/StockControl"]
layout_mode = 0
offset_left = -400.0
offset_top = 13.0
offset_bottom = 345.0
pivot_offset = Vector2(400, 1)
theme_override_constants/h_separation = 80
theme_override_constants/v_separation = 40
columns = 5

[node name="MoneyControl" type="Control" parent="UI"]
layout_mode = 3
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
grow_horizontal = 0

[node name="Label" type="Label" parent="UI/MoneyControl"]
layout_mode = 0
offset_left = -520.0
offset_right = -463.0
offset_bottom = 23.0
text = "Money:"

[node name="EconomyManager" type="Node" parent="." node_paths=PackedStringArray("UIGrid", "money_contorl")]
script = ExtResource("9_raa3b")
MapScenePath = NodePath("..")
stockUI = ExtResource("10_u73mt")
UIGrid = NodePath("../UI/StockControl/StockUIGrid")
money_contorl = NodePath("../UI/MoneyControl")
